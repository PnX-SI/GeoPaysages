{% extends "layout.html" %}
{% set active_page = 'gallery' %}
{% block title %}{{ _('gallery.meta_title') }}{% endblock %}
{% block head %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/gallery.css') }}">
{% endblock %}


{% block bodyClassNames %}page-gallery{% endblock %}

{% block header_title %}
<h1>{{ _('gallery.title') }}</h1>
{% endblock %}

{% block content %}

<div class="container">
  <div class="row justify-content-center">
  {% for site in sites %}
    <div class="picture col-lg-2 col-md-3 col-sm-4 col-6">
      <a href="/comparator/{{ site.id_site }}">
        <img src="{{ site.photo }}" alt="{{ site.name_site }}">
      </a>
      <div class="discover">
        <a href="/comparator/{{ site.id_site }}" class="d-block">{{ site.name_site }}<br /><span class="text-uppercase township">{{ site.ville.nom_commune }}</span><small class="ref">{{ site.ref_site }}</small></a>
      </div>
    </div>
  {% endfor %}
  </div>
</div>

<!-- <script>
    document.onreadystatechange = () => {
      if (document.readyState == 'complete') {
  
        var picture = document.querySelector('.picture');
        var container = document.querySelector('.container');
        var width = container.clientWidth;
        window.addEventListener('resize', () => {
          onResize()

        })
        onResize()
        function onResize() {
          var calc = "calc(" + width + " / 6)";
          picture.style.width = calc + 'px';
          picture.style.height = picture.style.width;
          console.log('width', picture.style.width)
  
        }
      }
    };
  </script> -->

{% endblock %}